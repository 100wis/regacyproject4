<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.board">

<!-- 페이징 10개씩 가져오기 -->
	<select id="getPagingcontents" resultType="BoardDTO" parameterType="BoardDTO">
		<![CDATA[
			 select *
			    from (
			        select
			            level, pid, boardid, title, writer_uid, reg_date, view_count
			        from board
			        where delete_yn = 'N'
			        start with pid=0
			        CONNECT BY PRIOR boardid = pid
			        order SIBLINGS by view_count desc, boardid  
			    ) A
			    where rownum between ${startnum} and ${endnum}
		]]>

	</select>
	
		<select id="boardTop5" resultType="BoardDTO">
		<![CDATA[
			select 
				rownum, sub.*  
			from (
				select 
					* 
				from board 
				order by board.boardid desc
			) sub 
			where rownum <=5
		]]>
	</select>
	

<!--총 게시판 갯수 -->
		<select id="totalcount" resultType="int">
			select count(*) from board where delete_yn = 'N'
		</select>
	

	
</mapper>